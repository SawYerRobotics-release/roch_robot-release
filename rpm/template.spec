Name:           ros-kinetic-roch-safety-controller
Version:        2.0.13
Release:        1%{?dist}
Summary:        ROS roch_safety_controller package

Group:          Development/Libraries
License:        BSD
URL:            http://wiki.ros.org/roch_safety_controller
Source0:        %{name}-%{version}.tar.gz

Requires:       ros-kinetic-ecl-threads
Requires:       ros-kinetic-geometry-msgs
Requires:       ros-kinetic-roch-msgs
Requires:       ros-kinetic-roscpp
Requires:       ros-kinetic-std-msgs
Requires:       ros-kinetic-yocs-controllers
BuildRequires:  ros-kinetic-catkin
BuildRequires:  ros-kinetic-ecl-threads
BuildRequires:  ros-kinetic-geometry-msgs
BuildRequires:  ros-kinetic-roch-msgs
BuildRequires:  ros-kinetic-roscpp
BuildRequires:  ros-kinetic-std-msgs
BuildRequires:  ros-kinetic-yocs-controllers

%description
A controller ensuring the safe operation of roch. The SafetyController keeps
track of ult, psd and cliff events. In case of the first three, roch is
commanded to move back. This controller can be enabled/disabled. The safety
states (cliff, psd and ult etc.) can be reset. WARNING: Dangerous! Refrence with
yujinrobot' kobuki.

%prep
%setup -q

%build
# In case we're installing to a non-standard location, look for a setup.sh
# in the install tree that was dropped by catkin, and source it.  It will
# set things like CMAKE_PREFIX_PATH, PKG_CONFIG_PATH, and PYTHONPATH.
if [ -f "/opt/ros/kinetic/setup.sh" ]; then . "/opt/ros/kinetic/setup.sh"; fi
mkdir -p obj-%{_target_platform} && cd obj-%{_target_platform}
%cmake .. \
        -UINCLUDE_INSTALL_DIR \
        -ULIB_INSTALL_DIR \
        -USYSCONF_INSTALL_DIR \
        -USHARE_INSTALL_PREFIX \
        -ULIB_SUFFIX \
        -DCMAKE_INSTALL_LIBDIR="lib" \
        -DCMAKE_INSTALL_PREFIX="/opt/ros/kinetic" \
        -DCMAKE_PREFIX_PATH="/opt/ros/kinetic" \
        -DSETUPTOOLS_DEB_LAYOUT=OFF \
        -DCATKIN_BUILD_BINARY_PACKAGE="1" \

make %{?_smp_mflags}

%install
# In case we're installing to a non-standard location, look for a setup.sh
# in the install tree that was dropped by catkin, and source it.  It will
# set things like CMAKE_PREFIX_PATH, PKG_CONFIG_PATH, and PYTHONPATH.
if [ -f "/opt/ros/kinetic/setup.sh" ]; then . "/opt/ros/kinetic/setup.sh"; fi
cd obj-%{_target_platform}
make %{?_smp_mflags} install DESTDIR=%{buildroot}

%files
/opt/ros/kinetic

%changelog
* Fri Mar 24 2017 Carl <wzhang@softrobtech.com> - 2.0.13-1
- Autogenerated by Bloom

* Fri Mar 24 2017 Carl <wzhang@softrobtech.com> - 2.0.13-0
- Autogenerated by Bloom

